<html>

<meta charset="UTF-8">

<head>
   <title>Cadastro de Produto</title>
   <meta name="viewport" content="width = device-width, initial-scale = 1">
   <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.3/css/materialize.min.css">
   <link rel="stylesheet" href="assets/css/cadastros.css">
   <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.3/js/materialize.min.js"></script>
   <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
   <script src="js/api.js"></script>
   </script>
</head>

<body>
   <nav>
      <div class="nav-wrapper red darken-4 z-depth-2">Orderfy
         <a href="#!" class="left hide-on-med-and-down">
            <i class="material-icons ">menu</i>
         </a>
      </div>
   </nav>

   <div class="row">
      <form class="col s9 push-s3" enctype="multipart/form-data">

         <div class="row container">
            <div class="row"></div>


            <div class="row ">
               <div class="input-field col s7">
                  <input placeholder="Nome do Produto" name="nome" type="text" class="validate">

               </div>
            </div>

            <div class="row ">
               <div class="input-field col s7">
                  <input placeholder="Preço" name="preco" type="text" class="validate">

               </div>
            </div>

            

            <div class="row">
               <div class="input-field col s7">
                  <input placeholder="Descrição" name="descricao" type="text" class="validate">

               </div>
            </div>

            <div class="">
               <div class="file-field input-field">

                  <label class="btn">
                     <span>Anexos</span>
                     <input type="file" multiple />
                  </label>


               </div>
            </div>

            <div class="row"></div>
            <div id="filterdiv" class="row col s9 push-s2">
               <button 
                  type="submit" 
                  name="login_login" 
                  id="login_login" 
                  class="btn waves-effect waves-light"
               >
                  Salvar
               </button>
            </div>
         </div>

      </form>
   </div>



   <script>
      $("form").on("submit", async function (event) {
         event.preventDefault();
         const data = {}
         $(this).serializeArray().forEach((item) => {
            data[item.name] = item.value
            console.log(data);
         });
         try {
            const result = await api.post('/products', data)
         } catch (error) {
            alert(error);
         }

      });
   </script>



</body>

</html>